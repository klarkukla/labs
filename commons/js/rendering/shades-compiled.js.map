{"version":3,"sources":["shades.js"],"names":[],"mappings":"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","file":"shades-compiled.js","sourcesContent":["/**\r\n*\r\n@class Shades\r\n------------\r\nPost-Processing effects composer with GUI & load/save functions\r\nDepends on many THREE (GLSL) shaders + dat.GUI\r\n------------------------\r\ntlhoest@gmail.com - 2016\r\n------------------------\r\n\r\n todo: OSC mapper\r\n todo: inject key binder in params\r\n todo: localStorage array list for presets management\r\n\r\n*\r\n**/\r\n\r\nclass Shades{\r\n\r\n    /*\r\n    *\r\n    *\r\n    *\r\n    * */\r\n    constructor(params){\r\n\r\n        //--------------------------------------------------\r\n\r\n        this.width = window.innerWidth;\r\n        this.height = window.innerHeight;\r\n\r\n        //--------------------------------------------------\r\n\r\n        this.composer = null;\r\n        this.renderPass = null;\r\n        this.copyPass = null;\r\n        this.effects = {};\r\n        this.presets = {};\r\n\r\n        //--------------------------------------------------\r\n\r\n        this.gui = new dat.GUI();\r\n        this.gui.close();\r\n\r\n        //--------------------------------------------------\r\n\r\n        var renderTarget = new THREE.WebGLRenderTarget(this.width, this.height, {\r\n            minFilter: THREE.NearestFilter,\r\n            magFilter: THREE.NearestFilter,\r\n            format: THREE.RGBFormat,\r\n            stencilBuffer: true\r\n        });\r\n        this.renderPass = new THREE.RenderPass(params.scene, params.camera);\r\n        this.composer = new THREE.EffectComposer(params.renderer, renderTarget);\r\n        this.copyPass = new THREE.ShaderPass(THREE.CopyShader);\r\n        this.copyPass.renderToScreen = true;\r\n        params.renderer.autoClear = false;\r\n\r\n        //--------------------------------------------------\r\n\r\n        this.loadPresets();\r\n\r\n        //--------------------------------------------------\r\n        // listen to \"S\" keyup\r\n\r\n        var that = this;\r\n        document.addEventListener('keyup', function(e){\r\n            if(e.keyCode == '83')\r\n                that.savePresets();\r\n        });\r\n    }\r\n\r\n    setEffects(){\r\n        for(var preset in this.presets){\r\n            if(this.presets.hasOwnProperty(preset)){\r\n                for(var param in this.presets[preset].params){\r\n                    if(this.presets[preset].params.hasOwnProperty(param)){\r\n                        if(preset != 'bloom'){\r\n                            this.effects[preset].uniforms[param].value = this.presets[preset].params[param].val;\r\n                        } else {\r\n                            this.effects[preset].copyUniforms[param].value = this.presets[preset].params[param].val;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //--------------------------------------------------\r\n\r\n    setChain(){\r\n        this.composer.passes = [];\r\n        this.composer.addPass(this.renderPass);\r\n        for(var effect in this.effects){\r\n            if(this.effects.hasOwnProperty(effect)){\r\n                if(this.effects[effect].active){\r\n                    this.composer.addPass(this.effects[effect]);\r\n                }\r\n            }\r\n        }\r\n        this.composer.addPass(this.copyPass);\r\n    }\r\n\r\n    //--------------------------------------------------\r\n\r\n    initEffects(){\r\n\r\n        this.effects.HS = new THREE.ShaderPass(THREE.HueSaturationShader);\r\n        this.effects.HS.active = this.presets.HS.active;\r\n        var HS = this.gui.addFolder(this.presets.HS.title);\r\n        HS.add(this.effects.HS, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        HS.add(this.effects.HS.uniforms.hue, 'value', 0.00, 2.00).name('Hue');\r\n        HS.add(this.effects.HS.uniforms.saturation, 'value', 0.00, 1.00).name('Saturation');\r\n\r\n        this.effects.BC = new THREE.ShaderPass(THREE.BrightnessContrastShader);\r\n        this.effects.BC.active = this.presets.BC.active;\r\n        var BC = this.gui.addFolder(this.presets.BC.title);\r\n        BC.add(this.effects.BC, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        BC.add(this.effects.BC.uniforms.brightness, 'value', -1.00, 1.00).name('Brightness');\r\n        BC.add(this.effects.BC.uniforms.contrast, 'value', -1.00, 1.00).name('Contrast');\r\n\r\n        this.effects.technicolor = new THREE.ShaderPass(THREE.TechnicolorShader);\r\n        this.effects.technicolor.active = this.presets.technicolor.active;\r\n        var technicolor = this.gui.addFolder('Technicolor');\r\n        technicolor.add(this.effects.technicolor, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n\r\n        this.effects.bleach = new THREE.ShaderPass(THREE.BleachBypassShader);\r\n        this.effects.bleach.active = this.presets.bleach.active;\r\n        var bleach = this.gui.addFolder('Bleach');\r\n        bleach.add(this.effects.bleach, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        bleach.add(this.effects.bleach.uniforms.opacity, 'value', 0.0, 1.0).name('Opacity');\r\n\r\n        this.effects.RGBShift = new THREE.ShaderPass(THREE.RGBShiftShader);\r\n        this.effects.RGBShift.active = this.presets.RGBShift.active;\r\n        var RGBShift = this.gui.addFolder('RGB Shift');\r\n        RGBShift.add(this.effects.RGBShift, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        RGBShift.add(this.effects.RGBShift.uniforms.amount, 'value', 0.000, 0.100).name('Amount');\r\n        RGBShift.add(this.effects.RGBShift.uniforms.angle, 'value', 0.0, 7.0).name('Angle');\r\n\r\n        this.effects.C64 = new THREE.ShaderPass(THREE.C64Shader);\r\n        this.effects.C64.active = this.presets.C64.active;\r\n        var C64 = this.gui.addFolder('C64');\r\n        C64.add(this.effects.C64, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n\r\n        this.effects.dither = new THREE.ShaderPass(THREE.DitherShader);\r\n        this.effects.dither.active = this.presets.dither.active;\r\n        var dither = this.gui.addFolder('Dithering');\r\n        dither.add(this.effects.dither, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n\r\n        this.effects.vignette = new THREE.ShaderPass(THREE.VignetteShader);\r\n        this.effects.vignette.active = this.presets.vignette.active;\r\n        var vignette = this.gui.addFolder('Vignetting');\r\n        vignette.add(this.effects.vignette, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        vignette.add(this.effects.vignette.uniforms.darkness, 'value', 0.0, 10.0).name('Darkness');\r\n        vignette.add(this.effects.vignette.uniforms.offset, 'value', 0.0, 10.0).name('Offset');\r\n\r\n        this.effects.bloom = new THREE.BloomPass();\r\n        this.effects.bloom.active = this.presets.bloom.active;\r\n        var bloom = this.gui.addFolder('Bloom');\r\n        bloom.add(this.effects.bloom, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        bloom.add(this.effects.bloom.copyUniforms.opacity, 'value', 0.0, 2.0).name('Opacity');\r\n\r\n        this.effects.film = new THREE.FilmPass();\r\n        this.effects.film.active = this.presets.film.active;\r\n        var film = this.gui.addFolder('Film');\r\n        film.add(this.effects.film, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        film.add(this.effects.film.uniforms.nIntensity, 'value', 0.00, 2.00).name('Noise');\r\n        film.add(this.effects.film.uniforms.sIntensity, 'value', 0.0, 2.0).name('Scanlines intensity');\r\n        film.add(this.effects.film.uniforms.sCount, 'value', 0, 10).name('Scanlines count');\r\n        film.add(this.effects.film.uniforms.grayscale, 'value').name('Grayscale');\r\n\r\n        this.effects.HTS = new THREE.ShaderPass(THREE.HorizontalTiltShiftShader);\r\n        this.effects.HTS.uniforms['h'].value = 1 / this.width;\r\n        this.effects.HTS.active = this.presets.HTS.active;\r\n        var HTS = this.gui.addFolder('HorizontalTiltShift');\r\n        HTS.add(this.effects.HTS, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        HTS.add(this.effects.HTS.uniforms.r, 'value', 0.0, 3.0).name('Focus');\r\n\r\n        this.effects.VTS = new THREE.ShaderPass(THREE.VerticalTiltShiftShader);\r\n        this.effects.VTS.uniforms['v'].value = 1 / this.height;\r\n        this.effects.VTS.active = this.presets.VTS.active;\r\n        var VTS = this.gui.addFolder('VerticalTiltShift');\r\n        VTS.add(this.effects.VTS, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        VTS.add(this.effects.VTS.uniforms.r, 'value', 0.0, 3.0).name('Focus');\r\n\r\n        this.effects.pixelate = new THREE.ShaderPass(THREE.PixelateShader);\r\n        this.effects.pixelate.uniforms['size'].value.x = this.width;\r\n        this.effects.pixelate.uniforms['size'].value.y = this.height;\r\n        this.effects.pixelate.active = this.presets.pixelate.active;\r\n        var pixelate = this.gui.addFolder('Pixelate');\r\n        pixelate.add(this.effects.pixelate, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        pixelate.add(this.effects.pixelate.uniforms.pixelSize, 'value', 1.0, 300).name('Pixel size');\r\n\r\n        this.effects.focus = new THREE.ShaderPass(THREE.FocusShader);\r\n        this.effects.focus.uniforms['screenWidth'].value = this.width;\r\n        this.effects.focus.active = this.presets.focus.active;\r\n        var focus = this.gui.addFolder('Focus');\r\n        focus.add(this.effects.focus, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n        focus.add(this.effects.focus.uniforms.sampleDistance, 'value', 0.0, 2.0).name('Sample distance');\r\n        focus.add(this.effects.focus.uniforms.waveFactor, 'value', 0.00, 0.01).name('Wave factor');\r\n\r\n        this.effects.FXAA = new THREE.ShaderPass(THREE.FXAAShader);\r\n        this.effects.FXAA.uniforms['resolution'].value.set(1 / this.width, 1 / this.height);\r\n        this.effects.FXAA.active = this.presets.FXAA.active;\r\n        var FXAA = this.gui.addFolder('FXAA');\r\n        FXAA.add(this.effects.FXAA, 'active').name('Activate').onChange(this.setChain.bind(this));\r\n\r\n        //\r\n\r\n        this.setChain();\r\n        this.setEffects();\r\n    }\r\n\r\n    //--------------------------------------------------\r\n\r\n    loadPresets(){\r\n        if(localStorage.getItem('presets') != null){\r\n            let p = localStorage.getItem('presets');\r\n            this.presets = JSON.parse(p);\r\n            this.initEffects();\r\n        } else {\r\n            function loadJSON(callback){\r\n                var xobj = new XMLHttpRequest();\r\n                xobj.overrideMimeType(\"application/json\");\r\n                xobj.open('GET', 'presets/p0.json', true);\r\n                xobj.onreadystatechange = function(){\r\n                    if (xobj.readyState == 4 && xobj.status == \"200\"){\r\n                        callback(xobj.responseText);\r\n                    }\r\n                };\r\n                xobj.send(null);\r\n            }\r\n            var that = this;\r\n            loadJSON(function(p){\r\n                that.presets = JSON.parse(p);\r\n                that.initEffects();\r\n            });\r\n        }\r\n    }\r\n\r\n    //--------------------------------------------------\r\n\r\n    savePresets(){\r\n        for(var preset in this.presets){\r\n            if (this.presets.hasOwnProperty(preset)){\r\n                for(var param in this.presets[preset].params){\r\n                    if(this.presets[preset].params.hasOwnProperty(param)){\r\n                        if(preset != 'bloom'){\r\n                            this.presets[preset].params[param].val = this.effects[preset].uniforms[param].value;\r\n                        } else {\r\n                            this.presets[preset].params[param].val = this.effects[preset].copyUniforms[param].value;\r\n                        }\r\n                    }\r\n                }\r\n                this.presets[preset].active = this.effects[preset].active;\r\n            }\r\n        }\r\n\r\n        //--------------------------------------------------\r\n\r\n        let p = JSON.stringify(this.presets);\r\n        localStorage.setItem('presets', p);\r\n\r\n        //--------------------------------------------------\r\n\r\n        alert('saved');\r\n    }\r\n\r\n    //--------------------------------------------------\r\n\r\n    render(){\r\n        this.composer.render(0.1);\r\n    }\r\n}"]}
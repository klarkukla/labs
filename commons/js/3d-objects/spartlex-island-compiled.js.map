{"version":3,"sources":["spartlex-island.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;IAOM,cAAc;cAAd,cAAc;;AAEhB,aAFE,cAAc,CAEJ,MAAM,EAAC;8BAFjB,cAAc;;2EAAd,cAAc,aAGN,MAAM;;AAEZ,YAAI,IAAI,QAAO;;;;AAAC,AAIhB,cAAK,QAAQ,GAAG,IAAI,CAAC;AACrB,cAAK,MAAM,CAAC,IAAI,CAAC,6BAA6B,EAAE,UAAS,OAAO,EAAC;AAC7D,mBAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAS,KAAK,EAAC;AAClC,oBAAG,KAAK,YAAY,KAAK,CAAC,IAAI,EAAC;AAC3B,wBAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC9B,4BAAQ,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;AACxC,wBAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;AACvD,wBAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;AAC3E,wBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACrC;aACJ,CAAC,CAAC;SACN,CAAC;;;;AAAC,AAIH,cAAK,OAAO,GAAG,IAAI,CAAC;AACpB,cAAK,MAAM,CAAC,IAAI,CAAC,2BAA2B,EAAE,UAAS,OAAO,EAAC;AAC3D,mBAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAS,KAAK,EAAC;AAClC,oBAAG,KAAK,YAAY,KAAK,CAAC,IAAI,EAAC;AAC3B,wBAAI,CAAC,OAAO,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;AAC5D,wBAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;AACvE,wBAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;AAC9B,wBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACpC;aACJ,CAAC,CAAC;SACN,CAAC;;;;AAAC,AAIH,cAAK,IAAI,GAAG,IAAI,CAAC;AACjB,cAAK,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,UAAS,OAAO,EAAC;AACxD,mBAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAS,KAAK,EAAC;AAClC,oBAAG,KAAK,YAAY,KAAK,CAAC,IAAI,EAAC;AAC3B,wBAAI,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;AACzD,wBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;AAC/D,wBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAC,CAAC,CAAC;AACjC,wBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;AACtC,wBAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACjC;aACJ,CAAC,CAAC;SACN,CAAC;;;;AAAC,AAIH,cAAK,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CACvB,IAAI,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EACzC,SAAS,CAAC,EAAE,CACf,CAAC;AACF,cAAK,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;AAC3B,cAAK,SAAS,CAAC,GAAG,CAAC,MAAK,KAAK,CAAC;;;;AAAC,AAI/B,YAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;AAClC,cAAK,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;KACjC;;iBAhEC,cAAc;;+BAkET,CAAC,EAAC;AACL,uCAnEF,cAAc,wCAmEC,CAAC;;;;AAAE,AAIhB,gBAAG,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAC;AACtB,oBAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC,GAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAC,KAAK,CAAC,CAAA,GAAI,CAAC,AAAC,CAAC;aAC1E;;;;AAAA,AAID,gBAAG,IAAI,CAAC,IAAI,KAAK,IAAI,EAAC;AAClB,oBAAG,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,SAAS,EAAC;AACtC,wBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;iBACvE;aACJ;SACJ;;;WAlFC,cAAc;GAAS,MAAM","file":"spartlex-island-compiled.js","sourcesContent":["/**\r\n*\r\n* @class SpartlexIsland\r\n* ---------------------\r\n*\r\n* */\r\n\r\nclass SpartlexIsland extends Island{\r\n\r\n    constructor(params){\r\n        super(params);\r\n\r\n        var that = this;\r\n\r\n        //----------------------------------\r\n\r\n        this.platform = null;\r\n        this.loader.load('assets/models/platform0.dae', function(collada){\r\n            collada.scene.traverse(function(child){\r\n                if(child instanceof THREE.Mesh){\r\n                    var geometry = child.geometry;\r\n                    Morpheus.generateMorphTargets(geometry);\r\n                    that.platform = new THREE.Mesh(geometry, Materials.m3);\r\n                    that.platform.scale.x = that.platform.scale.y = that.platform.scale.z = 60;\r\n                    that.container.add(that.platform);\r\n                }\r\n            });\r\n        });\r\n\r\n        //----------------------------------\r\n\r\n        this.spartan = null;\r\n        this.loader.load('assets/models/spartan.dae', function(collada){\r\n            collada.scene.traverse(function(child){\r\n                if(child instanceof THREE.Mesh){\r\n                    that.spartan = new THREE.Mesh(child.geometry, Materials.m0);\r\n                    that.spartan.scale.x = that.spartan.scale.y = that.spartan.scale.z = 2;\r\n                    that.spartan.position.y = 100;\r\n                    that.container.add(that.spartan);\r\n                }\r\n            });\r\n        });\r\n\r\n        //----------------------------------\r\n\r\n        this.tree = null;\r\n        this.loader.load('assets/models/tree.dae', function(collada){\r\n            collada.scene.traverse(function(child){\r\n                if(child instanceof THREE.Mesh){\r\n                    that.tree = new THREE.Mesh(child.geometry, Materials.m4);\r\n                    that.tree.scale.x = that.tree.scale.y = that.tree.scale.z = 10;\r\n                    that.tree.rotation.x = Math.PI/2;\r\n                    that.tree.material.needsUpdate = true;\r\n                    that.container.add(that.tree);\r\n                }\r\n            });\r\n        });\r\n\r\n        //----------------------------------\r\n\r\n        this.waves = new THREE.Mesh(\r\n            new THREE.PlaneGeometry(100, 100, 40, 40),\r\n            Materials.m1\r\n        );\r\n        this.waves.rotation.x = 90;\r\n        this.container.add(this.waves);\r\n\r\n        //----------------------------------\r\n\r\n        var hook = new Hook(Materials.m5);\r\n        this.container.add(hook.mesh);\r\n    }\r\n\r\n    render(t){\r\n        super.render(t);\r\n\r\n        //----------------------------------\r\n\r\n        if(this.platform !== null){\r\n            this.platform.morphTargetInfluences[0] = ((1 + Math.sin(t*0.001)) / 8);\r\n        }\r\n\r\n        //----------------------------------\r\n\r\n        if(this.tree !== null){\r\n            if(SoundGrabber.getFFT()[0] !== undefined){\r\n                this.tree.material.map.offset.x += SoundGrabber.getFFT()[25] * 0.02;\r\n            }\r\n        }\r\n    }\r\n}"]}